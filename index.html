<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>eStamp Online Verification</title>

<style>
:root{
  --green:#3f8f2e;
  --light-green:#e7f6ea;
  --border:#e2e2e2;
  --gray:#6b6b6b;
  --dark-gray:#5f5f5f;
}

*{
  box-sizing:border-box;
}

body{
  margin:0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
  background:#ffffff;
  color:#222;
}

/* ===== TOP STRIP ===== */
.top-strip{
  background:#dff5e5;
  font-size:13px;
  padding:6px 20px;
}

/* ===== HEADER ===== */
.header{
  background:var(--green);
  padding:15px 20px;
  display:flex;
  align-items:center;
}

.header a{
  display:inline-block;
}

.header img{
  height:65px;
  cursor:pointer;
}

/* ===== NAV ===== */
.nav{
  background:#efefef;
  padding:8px 20px;
  font-size:14px;
}

.nav a{
  text-decoration:none;
  color:#222;
  font-weight:500;
  padding:6px 12px;
  border-radius:4px;
}

.nav a:hover{
  background:#ddd;
}

/* ===== CONTENT ===== */
.container{
  max-width:1100px;
  margin:0 auto;
  padding:25px 20px 40px;
}

h2{
  margin:10px 0 20px;
  font-size:22px;
  font-weight:600;
}

/* ===== TABLE ===== */
table{
  width:100%;
  border-collapse:collapse;
  font-size:14px;
}

th, td{
  border:1px solid var(--border);
  padding:10px 12px;
  vertical-align:top;
}

th{
  width:30%;
  background:#ffffff;
  font-weight:600;
}

tr:nth-child(even){
  background:#ffffff;
}

/* ===== RESPONSIVE FIX (KEEP 2 COLUMN) ===== */
@media (max-width: 768px) {

  table{
    width:100%;
    font-size:14px;
  }

  tr{
    display:table-row;
  }

  th,
  td{
    display:table-cell;   /* ðŸ”‘ important */
    padding:10px 8px;
    border:1px solid #e2e2e2;
    vertical-align:middle;
  }

  th{
    width:45%;
    background:#f7f7f7;
    font-weight:600;
    color:#222;
    white-space:nowrap;
  }

  td{
    width:55%;
    color:#333;
    word-break:break-word;
  }
}

/* ===== FOOTER ===== */
.footer{
  background:#6a6a6a;
  color:#fff;
  margin-top:40px;
  text-align:center;
  padding:25px 10px;
}

.footer .block{
  margin:12px 0;
  font-size:14px;
}

.footer hr{
  width:70%;
  border:0;
  border-top:1px solid rgba(255,255,255,0.3);
  margin:10px auto;
}

.footer-logo-single{
  margin:25px auto 10px;
  text-align:center;
}

.footer-logo-single img{
  max-width:420px;
  width:90%;
  height:auto;
  opacity:0.95;
}

.footer small{
  display:block;
  margin-top:15px;
  font-size:12px;
  opacity:.85;
}
</style>
</head>

<body>

<div class="top-strip">
  HELPLINE: (042) 111-22-22-77 (Monday to Saturday 8:00 AM - 5:00 PM)
</div>

<div class="header">
  <a href="https://es.punjab-zameen.gov.pk/eStampCitizenPortal/ChallanFormView/HomePage">
    <img src="logo.png" alt="e-Stamping">
  </a>
</div>

<div class="nav">
  <a href="https://es.punjab-zameen.gov.pk/eStampCitizenPortal/ChallanFormView/HomePage">Home</a>
</div>

<div class="container">
  <h2>eStamp Online Verification</h2>

  <table>
    <tr><th>eStamp ID</th><td id="id"></td></tr>
    <tr><th>Type</th><td id="type"></td></tr>
    <tr><th>Amount</th><td id="amount"></td></tr>
    <tr><th>Description</th><td id="description"></td></tr>
    <tr><th>Applicant</th><td id="applicant"></td></tr>
    <tr><th>S/O</th><td id="so"></td></tr>
    <tr><th>Address</th><td id="address"></td></tr>
    <tr><th>Issue Date</th><td id="issue"></td></tr>
    <tr><th>Delisted on/Validity</th><td id="validity"></td></tr>
    <tr><th>Amount in Words</th><td id="words"></td></tr>
    <tr><th>Reason</th><td id="reason"></td></tr>
    <tr><th>Vendor Information</th><td id="vendor"></td></tr>
  </table>
</div>

<div class="footer">
  <div class="block">
    <a href="https://es.punjab-zameen.gov.pk/eStampCitizenPortal/ChallanFormView/AboutUsForeStamping" style="color:#fff;">About Us</a>
  </div>
  <hr>
  <div class="block">
    <a href="https://es.punjab-zameen.gov.pk/eStampCitizenPortal/ChallanFormView/HomePage" style="color:#fff;">e-Stamping</a>
  </div>
  <hr>
  <div class="block">
    <a href="https://bor.punjab.gov.pk/" style="color:#fff;">Board Of Revenue</a>
  </div>
  <hr>
  <div class="block">Contact Us</div>
  <hr>
  <div class="block">estamp-support@punjab-zameen.gov.pk</div>
  <hr>
  <div class="block">
    <a href="https://es.punjab-zameen.gov.pk/eStampCitizenPortal/ChallanFormView/HelpFAQs" style="color:#fff;">FAQs</a>
  </div>

  <div class="footer-logo-single">
    <img src="footer-logos.png" alt="Punjab Government Logos">
  </div>

  <small>Â© Copyrights GOP 2026, All Rights Reserved</small>
</div>

<script>
const params = new URLSearchParams(window.location.search);
const stampId = params.get("id");

const API_BASE = "https://verify-backend-b8q1.onrender.com";

if (!stampId) {
  alert("Invalid or missing eStamp ID");
} else {
  fetch(`${API_BASE}/api/getCertificate?id=${stampId}`)
    .then(res => res.json())
    .then(result => {
      if (!result.success) {
        alert(result.message || "Record not found");
        return;
      }

      const d = result.data;

      document.getElementById("id").innerText = d.id || "-";
      document.getElementById("type").innerText = d.type || "-";
      document.getElementById("amount").innerText = d.amount || "-";
      document.getElementById("description").innerText = d.description || "-";
      document.getElementById("applicant").innerText = d.applicant || "-";
      document.getElementById("so").innerText = d.so || "-";
      document.getElementById("address").innerText = d.address || "-";
      document.getElementById("issue").innerText = d.issueDate || "-";
      document.getElementById("validity").innerText = d.validity || "-";
      document.getElementById("words").innerText = d.amountWords || "-";
      document.getElementById("reason").innerText = d.reason || "-";
      document.getElementById("vendor").innerText = d.vendor || "-";
    })
    .catch(() => {
      alert("Server error, please try again later");
    });
}
</script>

</body>
</html>
